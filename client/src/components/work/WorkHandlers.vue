<script setup lang="ts">
import type { CanvasHistory } from '@shared/lib'
import { useCanvasHistoryStore } from '@shared/stores'
import WorkHandler from './WorkHandler.vue'

const historyStore = useCanvasHistoryStore()

const historyHandlerNamesBySVGPathValue: Record<string, string> = {
    undo: 'M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z',
    redo: 'M18.4,10.6C16.55,9 14.15,8 11.5,8C6.85,8 2.92,11.03 1.54,15.22L3.9,16C4.95,12.81 7.95,10.5 11.5,10.5C13.45,10.5 15.23,11.22 16.62,12.38L13,16H22V7L18.4,10.6Z',
    save: 'M17 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V7L17 3M19 19H5V5H16.17L19 7.83V19M12 12C10.34 12 9 13.34 9 15S10.34 18 12 18 15 16.66 15 15 13.66 12 12 12M6 6H15V10H6V6Z',
    load: 'M6.5 20Q4.22 20 2.61 18.43 1 16.85 1 14.58 1 12.63 2.17 11.1 3.35 9.57 5.25 9.15 5.88 6.85 7.75 5.43 9.63 4 12 4 14.93 4 16.96 6.04 19 8.07 19 11 20.73 11.2 21.86 12.5 23 13.78 23 15.5 23 17.38 21.69 18.69 20.38 20 18.5 20H13Q12.18 20 11.59 19.41 11 18.83 11 18V12.85L9.4 14.4L8 13L12 9L16 13L14.6 14.4L13 12.85V18H18.5Q19.55 18 20.27 17.27 21 16.55 21 15.5 21 14.45 20.27 13.73 19.55 13 18.5 13H17V11Q17 8.93 15.54 7.46 14.08 6 12 6 9.93 6 8.46 7.46 7 8.93 7 11H6.5Q5.05 11 4.03 12.03 3 13.05 3 14.5 3 15.95 4.03 17 5.05 18 6.5 18H9V20M12 13Z'
}
</script>

<template>
    <WorkHandler
        title="Undo"
        :icon-path-value="historyHandlerNamesBySVGPathValue.undo"
        @click="historyStore.historyHandler?.undo()"
    />
    <WorkHandler
        title="Redo"
        :icon-path-value="historyHandlerNamesBySVGPathValue.redo"
        @click="historyStore.historyHandler?.redo()"
    />
    <WorkHandler
        title="Save"
        :icon-path-value="historyHandlerNamesBySVGPathValue.save"
        @click="historyStore.historyHandler?.save()"
    />
    <WorkHandler
        title="Load"
        :icon-path-value="historyHandlerNamesBySVGPathValue.load"
        @click="historyStore.historyHandler?.load()"
    />
</template>
